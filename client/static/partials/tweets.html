<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Display Tweets</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 700px;
        width: 100%;
        border: 1px solid silver;
      }
    </style>
    <!-- <script>
    var infowindow = new google.maps.InfoWindow();
    var marker, j;
    for (j = 0; j < data.length; j++) {
      if (data[j].place != null) {
        marker = new google.maps.Marker({
          position: new google.maps.LatLng(data[j].place.bounding_box.coordinates[0][0][1], data[j].place.bounding_box.coordinates[0][0][1]),
          map: map
        })
      };
      google.maps.event.addListener(marker, 'mouseover', (function (marker, j) {
        return function() {
          infowindow.setContent("<p class='info'>" + data.user.name + "<br>" + data.text+ "</p>"+ "<p class='info'>" + data.place.name + "</p>");
          infowindow.open(map, marker);
        }
      })(marker, j));
    }
    </script> -->
  </head>
  <body>
    <table class='table'>
      <thead class="thead-default">
      	<tr>
      		<th>User Name</th>
      		<th>Tweet</th>
      		<th>Place</th>
      		<th>lang, long</th>
      		<th>Tweeted</th>
          <th>Time Diff</th>
      	</tr>
      </thead>
    	<tr ng-repeat='tweet in vm.tweets' ng-if='tweet.place != null'>
    		<td ng-bind='tweet.user.name' class='col-md-2'></td>
    		<td ng-bind='tweet.text' class='col-md-3'></td>
    		<td ng-bind='tweet.place.name' class='col-md-2'></td>
        <td class='col-md-3'>Latitude: {{ tweet.place.bounding_box.coordinates[0][0][1] }}<br> Longitude: {{ tweet.place.bounding_box.coordinates[0][0][0] }}</td>
        <td class='col-md-1'>{{ tweet.created_at | amDateFormat:'dddd, MMMM Do YYYY, h:mm:ss a'}}</td>
        <td class='col-md-1'><span am-time-ago='tweet.created_at'></span> ago<td>
    	</tr>
    </table>
    <div map-lazy-load='http://maps.google.com/maps/api/js'>
      <ng-map id='map' default-style='false' center='{{ vm.latitude }}, {{ vm.longitude }}' zoom='10'>

      </ng-map>
    </div>
  </body>
</html>
